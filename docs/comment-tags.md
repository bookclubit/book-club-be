# Семантические комментарии в коде

## Назначение

Код — главный актив проекта, и его сопровождаемость во многом зависит от прозрачности и структуры комментариев. Эта система тегированных комментариев предназначена для:

- Быстрого поиска важных мест, проблем и задач в коде.
- Упорядочивания технического долга и костылей.
- Обеспечения единого стандарта для команды и инструментария (например, TODO Tree).
- Снижения количества «шума» от бессмысленных или устаревших TODO.

Все комментарии с тегами должны помогать разработчикам понимать текущий статус кода и план действий.

## Поддерживаемые теги и их смысл

| Тег       | Назначение                                                                                                                                             | Требование по ссылке на задачу                    |
| --------- | ------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------- |
| TODO      | Фиксация будущих доработок, рефакторинга или планируемого функционала. Задача поставлена и должна быть реализована позже.                              | Обязательна ссылка на задачу                      |
| BUG       | Документированная ошибка реализации, которую нужно устранить. Добавляется рядом с кодом, где есть баг или временное решение.                           | Обязательна ссылка на задачу по багу              |
| HACK      | Указание на нестандартный код или временный workaround, связанный с ограничениями сторонних API, багами библиотек или особенностями среды.             | Желательно указать задачу или контекст, если есть |
| IMPORTANT | Критические требования или ограничения, нарушение которых приведёт к ошибкам или сбоям. Требует особого внимания при изменениях в этом участке кода.   | Не требуется                                      |
| INFO      | Контекст или пояснения к сложной логике, бизнес-правилам либо дополнительная документация. Помогает быстрее понять код, не является задачей или багом. | Не требуется                                      |

---

## Требования к оформлению комментариев

- Все комментарии должны быть краткими, чёткими и содержать максимум полезной информации.
- Текст должен объяснять _почему_ выявлено проблемное место или необходимость, а не переписывать код.
- Формат однострочных комментариев:

```js
// TAG [#номер_задачи]: краткое описание задачи или причины
```

- Для более развёрнутых комментариев допускается многострочный формат, начиная с тега, а дальше — пояснение:

```js
// HACK #123: Временный обход ограничения внешнего API.
// Нужно заменить после обновления версии библиотеки.
```

- Для тегов TODO, FIX и BUG обязательна привязка к задаче в трекере — это обеспечивает управляемость и прозрачность.

---

## Политика использования

- Запрещается использование TODO, FIX, HACK без ссылки на тикет (за исключением INFO и IMPORTANT).
- Добавление тега без контекста или описания не допускается.
- Ревью кода строго проверяет эти комментарии на соответствие стандарту.
- Перед релизом команда обязана проводить ревизию списка тегированных комментариев и закрывать выполненные задачи.
- Цель — не превращать репозиторий в кладбище TODO, а поддерживать комментарии актуальными и информативными.

---

## Интеграция с инструментами разработчика

Рекомендуется настроить IDE и расширения, например [TODO Tree](https://marketplace.visualstudio.com/items?itemName=Gruntfuggly.todo-tree)), для автоматического распознавания выбранных тегов-комментариев в проекте. Пример конфигурации можно найти в файле .vscode/settings.json с параметрами вида todo-tree.\*.​

## Пример комментариев

```js
// INFO: Используем строгий маппинг статусов из-за особенностей API.

// TODO #456: перейти на асинхронный вызов сервиса пользователя.

// HACK #789: временный костыль из-за бага в версии 2.3.0 сторонней библиотеки.
// Нужно убрать после починки и обновления.

// IMPORTANT: менять порядок полей нельзя — контракт с внешним сервисом.
```
